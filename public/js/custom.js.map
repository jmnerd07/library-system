{"version":3,"sources":["custom.js","angular/app.js","angular/controllers/authors.controller.js","angular/controllers/books.controller.js","angular/controllers/genres.controller.js","angular/controllers/publishers.controller.js","angular/directives/authors-list.directive.js","angular/directives/genres-dom.directive.js","angular/directives/publishers-list.directive.js","angular/factories/author-list-suggestion.factory.js","angular/factories/modal-box.factory.js","angular/filters/search-author.filter.js","angular/filters/variable-values.filter.js","angular/react-components/authors-auto-suggest-list.react.js","angular/react-components/publishers-auto-suggest-list.react.js","angular/services/author.service.js","angular/services/publisher.service.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3RA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"custom.js","sourcesContent":["/**\n * Resize function without multiple trigger\n * \n * Usage:\n * $(window).smartresize(function(){  \n *     // code here\n * });\n */\n(function($,sr){\n    // debouncing function from John Hann\n    // http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/\n    var debounce = function (func, threshold, execAsap) {\n      var timeout;\n\n        return function debounced () {\n            var obj = this, args = arguments;\n            function delayed () {\n                if (!execAsap)\n                    func.apply(obj, args); \n                timeout = null; \n            }\n\n            if (timeout)\n                clearTimeout(timeout);\n            else if (execAsap)\n                func.apply(obj, args);\n\n            timeout = setTimeout(delayed, threshold || 100); \n        };\n    };\n\n    // smartresize \n    jQuery.fn[sr] = function(fn){  return fn ? this.bind('resize', debounce(fn)) : this.trigger(sr); };\n\n})(jQuery,'smartresize');\n/**\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n\nvar CURRENT_URL = window.location.href.split('?')[0],\n    $BODY = $('body'),\n    $MENU_TOGGLE = $('#menu_toggle'),\n    $SIDEBAR_MENU = $('#sidebar-menu'),\n    $SIDEBAR_FOOTER = $('.sidebar-footer'),\n    $LEFT_COL = $('.left_col'),\n    $RIGHT_COL = $('.right_col'),\n    $NAV_MENU = $('.nav_menu'),\n    $FOOTER = $('footer');\n\n// Sidebar\n$(document).ready(function() {\n    // TODO: This is some kind of easy fix, maybe we can improve this\n    var setContentHeight = function () {\n        // reset height\n        $RIGHT_COL.css('min-height', $(window).height());\n\n        var bodyHeight = $BODY.outerHeight(),\n            footerHeight = $BODY.hasClass('footer_fixed') ? -10 : $FOOTER.height(),\n            leftColHeight = $LEFT_COL.eq(1).height() + $SIDEBAR_FOOTER.height(),\n            contentHeight = bodyHeight < leftColHeight ? leftColHeight : bodyHeight;\n\n        // normalize content\n        contentHeight -= $NAV_MENU.height() + footerHeight;\n\n        $RIGHT_COL.css('min-height', contentHeight);\n    };\n\n    $SIDEBAR_MENU.find('a').on('click', function(ev) {\n        var $li = $(this).parent();\n\n        if ($li.is('.active')) {\n            $li.removeClass('active active-sm');\n            $('ul:first', $li).slideUp(function() {\n                setContentHeight();\n            });\n        } else {\n            // prevent closing menu if we are on child menu\n            if (!$li.parent().is('.child_menu')) {\n                $SIDEBAR_MENU.find('li').removeClass('active active-sm');\n                $SIDEBAR_MENU.find('li ul').slideUp();\n            }\n            \n            $li.addClass('active');\n\n            $('ul:first', $li).slideDown(function() {\n                setContentHeight();\n            });\n        }\n    });\n\n    // toggle small or large menu\n    $MENU_TOGGLE.on('click', function() {\n        if ($BODY.hasClass('nav-md')) {\n            $SIDEBAR_MENU.find('li.active ul').hide();\n            $SIDEBAR_MENU.find('li.active').addClass('active-sm').removeClass('active');\n        } else {\n            $SIDEBAR_MENU.find('li.active-sm ul').show();\n            $SIDEBAR_MENU.find('li.active-sm').addClass('active').removeClass('active-sm');\n        }\n\n        $BODY.toggleClass('nav-md nav-sm');\n\n        setContentHeight();\n    });\n\n    // check active menu\n    $SIDEBAR_MENU.find('a[href=\"' + CURRENT_URL + '\"]').parent('li').addClass('current-page');\n\n    $SIDEBAR_MENU.find('a').filter(function () {\n        return this.href == CURRENT_URL;\n    }).parent('li').addClass('current-page').parents('ul').slideDown(function() {\n        setContentHeight();\n    }).parent().addClass('active');\n\n    // recompute content when resizing\n    $(window).smartresize(function(){  \n        setContentHeight();\n    });\n\n    setContentHeight();\n\n    // fixed sidebar\n    if ($.fn.mCustomScrollbar) {\n        $('.menu_fixed').mCustomScrollbar({\n            autoHideScrollbar: true,\n            theme: 'minimal',\n            mouseWheel:{ preventDefault: true }\n        });\n    }\n});\n// /Sidebar\n\n// Panel toolbox\n$(document).ready(function() {\n    $('.collapse-link').on('click', function() {\n        var $BOX_PANEL = $(this).closest('.x_panel'),\n            $ICON = $(this).find('i'),\n            $BOX_CONTENT = $BOX_PANEL.find('.x_content');\n        \n        // fix for some div with hardcoded fix class\n        if ($BOX_PANEL.attr('style')) {\n            $BOX_CONTENT.slideToggle(200, function(){\n                $BOX_PANEL.removeAttr('style');\n            });\n        } else {\n            $BOX_CONTENT.slideToggle(200); \n            $BOX_PANEL.css('height', 'auto');  \n        }\n\n        $ICON.toggleClass('fa-chevron-up fa-chevron-down');\n    });\n\n    $('.close-link').click(function () {\n        var $BOX_PANEL = $(this).closest('.x_panel');\n\n        $BOX_PANEL.remove();\n    });\n});\n// /Panel toolbox\n\n// Tooltip\n$(document).ready(function() {\n    $('[data-toggle=\"tooltip\"]').tooltip({\n        container: 'body'\n    });\n});\n// /Tooltip\n\n// Progressbar\nif ($(\".progress .progress-bar\")[0]) {\n    $('.progress .progress-bar').progressbar();\n}\n// /Progressbar\n\n// Switchery\n$(document).ready(function() {\n    if ($(\".js-switch\")[0]) {\n        var elems = Array.prototype.slice.call(document.querySelectorAll('.js-switch'));\n        elems.forEach(function (html) {\n            var switchery = new Switchery(html, {\n                color: '#26B99A'\n            });\n        });\n    }\n});\n// /Switchery\n\n// iCheck\n$(document).ready(function() {\n    if ($(\"input.flat\")[0]) {\n        $(document).ready(function () {\n            $('input.flat').iCheck({\n                checkboxClass: 'icheckbox_flat-green',\n                radioClass: 'iradio_flat-green'\n            });\n        });\n    }\n});\n// /iCheck\n\n// Table\n$('table input').on('ifChecked', function () {\n    checkState = '';\n    $(this).parent().parent().parent().addClass('selected');\n    countChecked();\n});\n$('table input').on('ifUnchecked', function () {\n    checkState = '';\n    $(this).parent().parent().parent().removeClass('selected');\n    countChecked();\n});\n\nvar checkState = '';\n\n$('.bulk_action input').on('ifChecked', function () {\n    checkState = '';\n    $(this).parent().parent().parent().addClass('selected');\n    countChecked();\n});\n$('.bulk_action input').on('ifUnchecked', function () {\n    checkState = '';\n    $(this).parent().parent().parent().removeClass('selected');\n    countChecked();\n});\n$('.bulk_action input#check-all').on('ifChecked', function () {\n    checkState = 'all';\n    countChecked();\n});\n$('.bulk_action input#check-all').on('ifUnchecked', function () {\n    checkState = 'none';\n    countChecked();\n});\n\nfunction countChecked() {\n    if (checkState === 'all') {\n        $(\".bulk_action input[name='table_records']\").iCheck('check');\n    }\n    if (checkState === 'none') {\n        $(\".bulk_action input[name='table_records']\").iCheck('uncheck');\n    }\n\n    var checkCount = $(\".bulk_action input[name='table_records']:checked\").length;\n\n    if (checkCount) {\n        $('.column-title').hide();\n        $('.bulk-actions').show();\n        $('.action-cnt').html(checkCount + ' Records Selected');\n    } else {\n        $('.column-title').show();\n        $('.bulk-actions').hide();\n    }\n}\n\n// Accordion\n$(document).ready(function() {\n    $(\".expand\").on(\"click\", function () {\n        $(this).next().slideToggle(200);\n        $expand = $(this).find(\">:first-child\");\n\n        if ($expand.text() == \"+\") {\n            $expand.text(\"-\");\n        } else {\n            $expand.text(\"+\");\n        }\n    });\n});\n\n// NProgress\nif (typeof NProgress != 'undefined') {\n    /*$(document).ready(function () {\n        NProgress.start();\n    });\n\n    $(window).on('load',function () {\n        NProgress.done();\n    });*/\n    /*\n    This line was removed because jQuery 3.* doesn't support .load() \n    $(window).load(function () {\n        NProgress.done();\n    });*/\n}","(function(){\n\t'use strict';\n\tangular\n\t\t.module('BookManagementApp', [])\n})();","/**\n * Created by JM on 1/24/2016.\n */\n/** @jsx React.DOM */\n(function(){\n\t'use strict';\n\tangular\n\t\t.module('BookManagementApp')\n\t\t.controller('AuthorsController', function($scope, $http){\n\t\t\t$scope.authors = [];\n\t\t\t$scope.reloadAuthors = function() {\n\t\t\t\t$http.get('/management/author/async/all').success(function (data) {\n\t\t\t\t\t$scope.authors = data;\n\t\t\t\t})\n\t\t\t};\n\t\t\t$scope.reloadAuthors();\n\t\t\t$scope.$on('reloadAuthor', function() {\n\t\t\t\t$scope.reloadAuthors();\n\t\t\t})\n\t\t});\n})();","(function(){\n\t'use strict';\n\tangular\n\t\t.module('BookManagementApp')\n\t\t.controller('BooksController', function($scope, $http){\n\n\t\t})\n});","(function() { \n\tangular\n\t\t.module('BookManagementApp')\n\t\t.controller('GenresController', ['$scope', function($scope){\n\t\t\t$('[data-toggle=\"tooltip\"]').tooltip()\n\t\t}])\n})();","(function(){\n\t'use strict';\n\tangular\n\t.module('BookManagementApp')\n\t.controller('PublishersController', function($scope, $http){\n\t\t$scope.publishers = [];\n\t\t$scope.reloadPublishers = function() {\n\t\t\t$http.get('/management/publisher/async/all').success(function (data) {\n\t\t\t\t$scope.publishers = data;\n\t\t\t})\n\t\t}\n\t\t$scope.reloadPublishers();\n\t\t$scope.$on('reloadPublisher', function() {\n\t\t\t$scope.reloadPublishers();\n\t\t})\n\t});\n})();","(function(){\n\t'use strict';\n\tangular\n\t\t.module('BookManagementApp')\n\t\t.directive('ngAuthorsList', function(){\n\t\t\treturn {\n\t\t\t\trestrict: 'A',\n\t\t\t\tscope: {\n\t\t\t\t\tauthors: '=ngAuthorsList',\n\t\t\t\t\tngAuthorKeyword: '=',\n\t\t\t\t\tselectedAuthorId: '=',\n\t\t\t\t\tngHide: '='\n\t\t\t\t},\n\t\t\t\ttemplate:  [\n\t\t\t\t\t'<div class=\"autosuggest-author-body\" >',\n\t\t\t\t\t\t'<div class=\"list-group\" >',\n\t\t\t\t\t\t\t'<a class=\"list-group-item\" data-is-hidden=\"ngHide\" data-ng-filter-keyword-author=\"ngAuthorKeyword\" data-selected-author-id=\"selectedAuthorId\" href=\"#\" data-record-id=\"{{ author.id }}\" data-author-name=\"{{ author.author_name }}\" data-ng-repeat=\"author in items = ( authors | filter: ngAuthorKeyword) \">{{ author.author_name }}</a>',\n\t\t\t\t\t\t\t'<a class=\"list-group-item text-success save-new-author-suggest\" data-ng-selected-author-id=\"selectedAuthorId\" data-ng-author-keyword=\"ngAuthorKeyword\" href=\"#\" data-ng-if=\"items.length === 0 && ngAuthorKeyword != \\'\\'\" data-author-list=\"authors\" >Click here to save <b>{{ ngAuthorKeyword }}</b></a>',\n\t\t\t\t\t'</div>',\n\t\t\t\t\t'</div>'\n\t\t\t\t].join(\"\"),\n\t\t\t\tlink: function(scope, elem, attrs) {\n\t\t\t\t\tscope.$on('selectedAuthor', function(evt, data){\n\t\t\t\t\t\t/*scope.$apply('selectedAuthorId = '+ data.id);\n\t\t\t\t\t\tscope.$apply('ngAuthorKeyword = \"' + data.name + '\"');\n\t\t\t\t\t\tscope.$apply('ngHide = true');*/\n\t\t\t\t\t\tscope.selectedAuthorId = data.id;\n\t\t\t\t\t\tscope.ngAuthorKeyword = data.name;\n\t\t\t\t\t\tscope.ngHide = true;\n\t\t\t\t\t\t//scope.$apply();\n\t\t\t\t\t});\n\t\t\t\t\tscope.$on('hideAuthors', function(evt) {\n\t\t\t\t\t\tscope.$apply('ngHide = true');\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t.directive('saveNewAuthorSuggest', function($http, $rootScope) {\n\t\treturn {\n\t\t\trestrict: 'C',\n\t\t\tscope: {\n\t\t\t\tauthorName: '=ngAuthorKeyword',\n\t\t\t\tauthors: '=authorList',\n\t\t\t\tselectedAuthorId: '='\n\t\t\t},\n\t\t\tlink: function(scope, elem, attrs) {\n\t\t\t\telem.on('click', function() {\n\t\t\t\t\telem.html('<small class=\"text-muted\"><i>Please wait while saving new author...</i></small>');\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: '/management/author/async/new-author',\n\t\t\t\t\t\tdata: {author_name: scope.authorName, type: 'async'},\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json'/* 'application/x-www-form-urlencoded; charset=UTF-8'*/\n\t\t\t\t\t\t}\n\t\t\t\t\t}).then(function(e){\n\t\t\t\t\t\tif(Object.keys(e.data.error).length > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( ! e.data.error.hasOwnProperty('author_name'))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar errorMsg = '';\n\t\t\t\t\t\t\tangular.forEach(e.data.error.author_name, function(v, i){\n\t\t\t\t\t\t\t\terrorMsg += '<small class=\"text-danger\">'+ v + '</small>';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\telem.html(errorMsg);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telem.html('<small class=\"text-primary\">New author created!</small>');\n\t\t\t\t\t\t$rootScope.$broadcast('reloadAuthor');\n\t\t\t\t\t\t//scope.$apply('selectedAuthorId = '+ e.data.model.id + '; authorName = \"' + e.data.model.author_name + '\";')\n\t\t\t\t\t\tscope.$emit(\"selectedAuthor\", {name: e.data.model.author_name, id: e.data.model.id });\n\t\t\t\t\t}, function(x) {\n\t\t\t\t\t\tconsole.log(x);\n\t\t\t\t\t\telem.html('<small class=\"text-danger\">Author not save. Unknown error.</small>');\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t}\n\t\t}\n\t})\n\t.directive('authorNameSearch', function($rootScope){\n\t\treturn {\n\t\t\trestrict: 'C',\n\t\t\tscope: {\n\t\t\t\thideSuggestions: '=hide_author_suggestions'\n\t\t\t},\n\t\t\tlink: function(scope, elem, attrs) {\n\t\t\t\telem.on('keydown', function(e) {\n\t\t\t\t\tif(e.keyCode == 27)\n\t\t\t\t\t{\n\t\t\t\t\t\t$rootScope.$broadcast('hideAuthors');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t})\n\t.directive('ngFilterKeywordAuthor', function() {\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tscope: {\n\t\t\t\tauthorName: '@authorName',\n\t\t\t\tauthorId: '@recordId',\n\t\t\t\tngFilterKeywordAuthor: '=',\n\t\t\t\tisHidden: '='\n\t\t\t},\n\t\t\tlink: function(scope, elem, attrs) {\n\t\t\t\telem.on('click', function(e){\n\t\t\t\t\tscope.$emit(\"selectedAuthor\", {name: scope.authorName, id: scope.authorId });\n\t\t\t\t\tscope.$apply();\n\t\t\t\t\t//scope.$apply('ngFilterKeywordAuthor = \"'+ scope.authorName +'\"; ');\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t})\n})();","(function(){\n\tangular\n\t\t.module('BookManagementApp')\n\t\t// On click \"Add new genre\" button\n\t\t.directive('ngCreateNewGenre', function(ModalBoxFactory, typeOfFilter, $compile) {\n\t\t\treturn {\n\t\t\t\trestrict: 'C',\n\t\t\t\tlink: function(scope, elem, attrs) {\n\t\t\t\t\telem.on('click', function() {\n\t\t\t\t\t\t$compile(\n\t\t\t\t\t\t\tModalBoxFactory.load({\n\t\t\t\t\t\t\t\ttitle: \"Create New Genre\",\n\t\t\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t\t\t\t'<form data-ng-init=\"genre.name = \\'\\'; genre.description=\\'\\'; genre.parent_genre_id=0;\">',\n\t\t\t\t\t\t\t\t            '<div class=\"form-group genre-name-group\">',\n\t\t\t\t\t\t\t\t              '<label for=\"genre-name\" class=\"form-control-label\"><sup class=\"text-danger\">*</sup> Genre Name:</label>',\n\t\t\t\t\t\t\t\t              '<input type=\"text\" data-ng-model=\"genre.name\" class=\"form-control\" id=\"genre-name\">',\n\t\t\t\t\t\t\t\t              '<div class=\"notif-genre-name\"></div>',\n\t\t\t\t\t\t\t\t            '</div>',\n\t\t\t\t\t\t\t\t            '<div class=\"form-group\">',\n\t\t\t\t\t\t\t\t              '<label for=\"parent-genre\" class=\"form-control-label\">Parent Genre <small class=\"text-muted\">(optional)</small>:</label>',\n\t\t\t\t\t\t\t\t              //'<select id=\"parent-genre\" data-ng-options=\"g.id as g.name for g in genres track by g.id\" class=\"form-control ng-genres-list-options\" data-ng-genre-list=\"genres\" data-ng-model=\"genre.parent_genre_id\">',\n\t\t\t\t\t\t\t\t              '<select  id=\"parent-genre\" class=\"form-control ng-genres-list-options\" data-ng-genre-list=\"genres\" data-ng-disabled=\"!genres\">',\n\t\t\t\t\t\t\t\t              \t'<option value=\"\" data-ng-if=\"(genres | typeOf) == \\'array\\' || genres.length > 0\"\">-- Choose genre --</option>',\n\t\t\t\t\t\t\t\t              \t'<option value=\"\" data-ng-if=\"(genres | typeOf) == \\'null\\' || (genres | typeOf) == \\'undefined\\'\">Loading genres...</option>',\n\t\t\t\t\t\t\t\t              \t'<option value=\"\" data-ng-if=\"(genres | typeOf) == \\'array\\' || genres.length == 0\">No genres found</option>',\n\t\t\t\t\t\t\t\t              \t'<option data-ng-repeat=\"(key, value) in genres\" value=\"{{ value.id }}\" data-ng-bind=\"value.name\"></option>',\n\t\t\t\t\t\t\t\t              '</select>',\n\t\t\t\t\t\t\t\t            '</div>',\n\t\t\t\t\t\t\t\t            '<div class=\"form-group\">',\n\t\t\t\t\t\t\t\t              '<label for=\"description-text\" class=\"form-control-label\">Description <small class=\"text-muted\">(optional)</small>:</label>',\n\t\t\t\t\t\t\t\t              '<textarea class=\"form-control\" data-ng-model=\"genre.description\" id=\"description-text\"></textarea>',\n\t\t\t\t\t\t\t\t            '</div>',\n\t\t\t\t\t\t\t\t        '</form>'\n\t\t\t\t\t\t\t\t\t].join(''),\n\t\t\t\t\t\t\t\tfooter: [\n\t\t\t\t\t\t\t\t\t\t'<button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button> ',\n\t\t\t\t\t\t\t\t\t\t'<button type=\"submit\" class=\"btn btn-primary ng-save-genre\" data-ng-genre-data=\"genre\">Save</button>'\n\t\t\t\t\t\t\t\t\t].join(\"\")\n\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)(scope);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t// On click edit genre button\n\t\t.directive('ngButtonEditGenre', function(ModalBoxFactory, $compile){\n\t\t\treturn {\n\t\t\t\trestrict: 'C',\n\t\t\t\tscope: {\n\t\t\t\t\tgenreId: '@'\n\t\t\t\t},\n\t\t\t\tlink: function(scope, elem, attrs) {\n\t\t\t\t\telem.on('click', function(){ \n\t\t\t\t\t\t$compile(\n\t\t\t\t\t\t\tModalBoxFactory.load({\n\t\t\t\t\t\t\t\ttitle: \"Edit Genre\",\n\t\t\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t\t\t\t'<div class=\"ng-load-edit-genre-details\" data-genre-id=\"'+ scope.genreId +'\">',\n\t\t\t\t\t\t\t\t\t\t\t'<div align=\"center\">',\n\t\t\t\t\t\t\t\t\t\t\t\t'<h3 class=\"text-muted\">Please wait</h3>',\n\t\t\t\t\t\t\t\t\t\t\t\t'<small class=\"text-muted\">(Fetching Genre Details)</small>',\n\t\t\t\t\t\t\t\t\t\t\t'</div>',\n\t\t\t\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t\t\t\t].join(''),\n\t\t\t\t\t\t\t\tfooter: \"\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)(scope);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t})\n\t\t.directive('ngLoadEditGenreDetails', function(ModalBoxFactory, typeOfFilter,  $http, $compile){\n\t\t\treturn {\n\t\t\t\trestrict: 'C',\n\t\t\t\tscope: {\n\t\t\t\t\tgenreId: '@'\n\t\t\t\t},\n\t\t\t\tlink: function(scope, elem, attr) {\n\t\t\t\t\tvar genreId = scope.genreId;\n\t\t\t\t\t\n\t\t\t\t\tangular.element(elem).ready(function(i){\n\t\t\t\t\t\t$http({\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t'X-Requested-With':'XMLHttpRequest'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\turl: 'genres/async/edit-genre',\n\t\t\t\t\t\t\tdata: {id: genreId}\n\t\t\t\t\t\t}).then(\n\t\t\t\t\t\t\tfunction(r) {\n\t\t\t\t\t\t\t\tvar genreDetails = r.data;\n\t\t\t\t\t\t\t\t$compile(\n\t\t\t\t\t\t\t\t\tModalBoxFactory.load({\n\t\t\t\t\t\t\t\t\t\ttitle: \"Edit Genre\",\n\t\t\t\t\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t\t\t\t\t\t'<form>',\n\t\t\t\t\t\t\t\t\t\t            '<div class=\"form-group genre-name-group\" data-ng-init=\"fielDisabled = false;\">',\n\t\t\t\t\t\t\t\t\t\t              \t'<label for=\"genre-name\" class=\"form-control-label\"><sup class=\"text-danger\">*</sup> Genre Name:</label>',\n\t\t\t\t\t\t\t\t\t\t              \t'<input type=\"text\" class=\"form-control edit-genre-name\" data-ng-disabled=\"fielDisabled\" id=\"genre-name\" data-ng-init=\"genre.name=\\''+ genreDetails.name +'\\'; genre.parent_genre_id='+ genreDetails.parent_genre_id +'\" data-ng-model=\"genre.name\" data-ng-bind=\"genre.name\">',\n\t\t\t\t\t\t\t\t\t\t              \t'<div class=\"notif-genre-name\"></div>',\n\t\t\t\t\t\t\t\t\t\t            '</div>',\n\t\t\t\t\t\t\t\t\t\t            '<div class=\"form-group\" data-ng-if=\"genre.parent_genre_id\">',\n\t\t\t\t\t\t\t\t\t\t\t            '<label for=\"parent-genre\" class=\"form-control-label\">Parent Genre <small class=\"text-muted\">(optional)</small>:</label>',\n\t\t\t\t\t\t\t\t\t\t\t            '<select  id=\"parent-genre\" class=\"form-control ng-genres-list-options\" data-ng-genre-list=\"genres\" data-ng-disabled=\"!genres\">',\n\t\t\t\t\t\t\t\t\t\t\t              \t'<option value=\"\" data-ng-if=\"(genres | typeOf) == \\'array\\' || genres.length > 0\"\">-- Choose genre --</option>',\n\t\t\t\t\t\t\t\t\t\t\t              \t'<option value=\"\" data-ng-if=\"(genres | typeOf) == \\'null\\' || (genres | typeOf) == \\'undefined\\'\">Loading genres...</option>',\n\t\t\t\t\t\t\t\t\t\t\t              \t'<option value=\"\" data-ng-if=\"(genres | typeOf) == \\'array\\' || genres.length == 0\">No genres found</option>',\n\t\t\t\t\t\t\t\t\t\t\t            \t'<option data-ng-repeat=\"(key, value) in genres\" data-ng-value=\"value.id\" data-ng-bind=\"value.name\" data-ng-selected=\"{{ (value.id == \\''+ genreDetails.parent_genre_id +'\\') }}\"></option>',\n\t\t\t\t\t\t\t\t\t\t\t            '</select>',\n\t\t\t\t\t\t\t\t\t\t\t        '</div>',\n\t\t\t\t\t\t\t\t\t\t            '<div class=\"form-group\">',\n\t\t\t\t\t\t\t\t\t\t              \t'<label for=\"description-text\" class=\"form-control-label\">Description <small class=\"text-muted\">(optional)</small>:</label>',\n\t\t\t\t\t\t\t\t\t\t              \t'<textarea class=\"form-control\" id=\"description-text\" data-ng-disabled=\"fielDisabled\" data-ng-init=\"genre.description=\\''+ (genreDetails.description ? genreDetails.description: \"\")  +'\\'\" data-ng-bind=\"genre.description\" data-ng-model=\"genre.description\"></textarea>',\n\t\t\t\t\t\t\t\t\t\t            '</div>',\n\t\t\t\t\t\t\t\t\t\t        '</form>'\n\t\t\t\t\t\t\t\t\t\t\t].join(''),\n\t\t\t\t\t\t\t\t\t\tfooter: [\n\t\t\t\t\t\t\t\t\t\t\t'<button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" data-ng-disabled=\"fielDisabled\" >Close</button> ',\n\t\t\t\t\t\t\t\t\t\t\t'<button type=\"submit\" class=\"btn btn-primary ng-save-changes-genre-details\" data-ng-disable=\"fielDisabled\" data-genre=\"genre\" data-ng-init=\"genre.id='+ genreDetails.id +';\">Save</button>'\n\t\t\t\t\t\t\t\t\t\t].join(\"\")\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)(scope.$new());\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfunction(r) { \n\t\t\t\t\t\t\t\tconsole.log(r)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t};\n\t\t})\n\t\t// On click save button for editing genre details\n\t\t.directive('ngSaveChangesGenreDetails', function(ModalBoxFactory, $http) {\n\t\t\treturn {\n\t\t\t\trestrict: 'C',\n\t\t\t\tscope: {\n\t\t\t\t\tgenre: '=',\n\t\t\t\t\tngDisabled: '='\n\t\t\t\t},\n\t\t\t\tlink: function(scope, elem, attr) {\n\n\t\t\t\t\telem.on('click', function(e) {\n\t\t\t\t\t\telem[0].disabled = true;\n\t\t\t\t\t\tconsole.log(scope.genre)\n\t\t\t\t\t\t$http({\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t'X-Requested-With':'XMLHttpRequest'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\turl: 'genres/async/modify-genre',\n\t\t\t\t\t\t\tdata: scope.genre\n\t\t\t\t\t\t}).then(\n\t\t\t\t\t\t\tfunction(r) {\n\t\t\t\t\t\t\t\tconsole.log(r.data)\n\t\t\t\t\t\t\t\telem[0].disabled = false;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfunction(r) {\n\t\t\t\t\t\t\t\tconsole.log(r);\n\t\t\t\t\t\t\t\telem[0].disabled = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t// Loads all Parent Genre in dropdown of Creating New Genre\n\t\t.directive('ngGenresListOptions', function($http, $compile){\n\t\t\treturn {\n\t\t\t\trestrict: 'C',\n\t\t\t\tscope: {\n\t\t\t\t\tngGenreList: '='\n\t\t\t\t},\n\t\t\t\tlink: function(scope, elem, attrs) {\n\t\t\t\t\t$http({\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'X-Requested-With':'XMLHttpRequest'\n\t\t\t\t\t\t},\n\t\t\t\t\t\turl: 'genres/async/list',\n\t\t\t\t\t\tdata: {_requestType: 'LIST_PARENT'}\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(r) {\n\t\t\t\t\t\t\tif(r.data.rows > 1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tscope.ngGenreList = r.data.data;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(r) {\n\t\t\t\t\t\t\tconsole.log(r)\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t}\n\t\t})\n\t\t.directive('ngSaveGenre', function(ModalBoxFactory, $http){\n\t\t\treturn {\n\t\t\t\trestrict: 'C',\n\t\t\t\tscope: {\n\t\t\t\t\tgenreData: \"=ngGenreData\"\n\t\t\t\t},\n\t\t\t\tlink: function(scope, elem, attrs) {\n\t\t\t\t\telem.on('click', function(){\n\t\t\t\t\t\t// remove all notification messages\n\t\t\t\t\t\tangular.element('.notif-genre-name').children().remove();\n\n\t\t\t\t\t\t// remove success/error border color\n\t\t\t\t\t\tangular.element('.genre-name-group').removeClass('has-danger').removeClass('has-success');\n\n\t\t\t\t\t\t// disable textfield and remove icons\n\t\t\t\t\t\tangular.element('.genre-name-group').find('.form-control').attr('disabled', 'disabled').removeClass('form-control-danger').removeClass('form-control-success');\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar postData = scope.genreData;\n\t\t\t\t\t\tpostData._requestType = 'VALIDATE';\n\t\t\t\t\t\t$http({\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t'X-Requested-With': 'XMLHttpRequest'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\turl: 'genres/async/new-genre',\n\t\t\t\t\t\t\tdata: postData\n\t\t\t\t\t\t}).then(\n\t\t\t\t\t\t\tfunction(r) { // on success\n\t\t\t\t\t\t\t\t// If no error found\n\t\t\t\t\t\t\t\tif(typeof r.data !== \"object\")\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tconsole.info('Unknown error');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(r.data.length === 0)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// Remove notification messages\n\t\t\t\t\t\t\t\t\tangular.element('.notif-genre-name').children().remove();\n\n\t\t\t\t\t\t\t\t\t// Add field border color\n\t\t\t\t\t\t\t\t\tangular.element('.genre-name-group').addClass('has-success');\n\n\t\t\t\t\t\t\t\t\t// Show success icon\n\t\t\t\t\t\t\t\t\tangular.element('.genre-name-group').find('.form-control').removeAttr('disabled', 'disabled').addClass('form-control-success');\n\n\t\t\t\t\t\t\t\t\tModalBoxFactory.load({\n\t\t\t\t\t\t\t\t\t\ttitle: \"Create New Genre - Success\",\n\t\t\t\t\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t\t\t\t\t\t'<h3 class=\"text-success\">Request successful</h3>',\n\t\t\t\t\t\t\t\t\t\t\t\t'<p class=\"text-success\">New genre successfully created.</p>'\n\t\t\t\t\t\t\t\t\t\t\t].join(''),\n\t\t\t\t\t\t\t\t\t\tfooter: \"\"\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\twindow.location.href = window.location.href;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfunction(r) { // on error\n\n\t\t\t\t\t\t\t\t// If validation fails\n\t\t\t\t\t\t\t\tif(r.status == 422)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// if error messages are empty\n\t\t\t\t\t\t\t\t\tif(!r.data)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t// notification messages\n\t\t\t\t\t\t\t\t\tvar notificationMessage = \"\";\n\n\t\t\t\t\t\t\t\t\t// get all array of notification messages\n\t\t\t\t\t\t\t\t\tfor(var key in r.data)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tif(r.data[key])\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tr.data[key].forEach(function(v, i){\n\t\t\t\t\t\t\t\t\t\t\t\tnotificationMessage += '<p><small class=\"text-danger\">' + v + '</small></p>';\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\tif(key !== '_requestType')\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t// Show notification message\n\t\t\t\t\t\t\t\t\t\t\t\tangular.element('.notif-genre-name').html(notificationMessage);\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Add field border color\n\t\t\t\t\t\t\t\t\t\t\t\tangular.element('.genre-name-group').addClass('has-danger');\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Show error icon\n\t\t\t\t\t\t\t\t\t\t\t\tangular.element('.genre-name-group').find('.form-control').removeAttr('disabled', 'disabled').addClass('form-control-danger');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t})\n})();","(function(){\n\t'use strict';\n\tangular\n\t.module('BookManagementApp')\n\t.directive('ngPublishersList', function(){\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tscope: {\n\t\t\t\tpublishers: '=ngPublishersList',\n\t\t\t\tngPublisherKeyword: '=',\n\t\t\t\tselectedPublisherId: '=',\n\t\t\t\tngHide: '='\n\t\t\t},\n\t\t\ttemplate:  [\n\t\t\t\t'<div class=\"autosuggest-publisher-body\" >',\n\t\t\t\t'<div class=\"list-group\" >',\n\t\t\t\t'<a class=\"list-group-item\" data-is-hidden=\"ngHide\" data-ng-filter-keyword-publisher=\"ngPublisherKeyword\" data-selected-publisher-id=\"selectedPublisherId\" href=\"#\" data-record-id=\"{{ publisher.id }}\" data-publisher-name=\"{{ publisher.name }}\" data-ng-repeat=\"publisher in items = ( publishers | filter: ngPublisherKeyword) \">{{ publisher.name }}</a>',\n\t\t\t\t'<a class=\"list-group-item text-success save-new-publisher-suggest\" data-ng-selected-publisher-id=\"selectedPublisherId\" data-ng-publisher-keyword=\"ngPublisherKeyword\" href=\"#\" data-ng-if=\"items.length === 0 && ngPublisherKeyword != \\'\\'\" data-publisher-list=\"publishers\" >Click here to save <b>{{ ngPublisherKeyword }}</b></a>',\n\t\t\t\t'</div>',\n\t\t\t\t'</div>'\n\t\t\t].join(\"\"),\n\t\t\tlink: function(scope, elem, attrs) {\n\t\t\t\tscope.$on('selectedPublisher', function(evt, data){\n\t\t\t\t\t/*scope.$apply('selectedPublisherId = '+ data.id);\n\t\t\t\t\t scope.$apply('ngPublisherKeyword = \"' + data.name + '\"');\n\t\t\t\t\t scope.$apply('ngHide = true');*/\n\t\t\t\t\tscope.selectedPublisherId = data.id;\n\t\t\t\t\tscope.ngPublisherKeyword = data.name;\n\t\t\t\t\tscope.ngHide = true;\n\t\t\t\t\t//scope.$apply();\n\t\t\t\t});\n\t\t\t\tscope.$on('hidePublishers', function(evt) {\n\t\t\t\t\tscope.$apply('ngHide = true');\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t})\n\t.directive('saveNewPublisherSuggest', function($http, $rootScope) {\n\t\treturn {\n\t\t\trestrict: 'C',\n\t\t\tscope: {\n\t\t\t\tpublisherName: '=ngPublisherKeyword',\n\t\t\t\tpublishers: '=publisherList',\n\t\t\t\tselectedPublisherId: '='\n\t\t\t},\n\t\t\tlink: function(scope, elem, attrs) {\n\t\t\t\telem.on('click', function() {\n\t\t\t\t\telem.html('<small class=\"text-muted\"><i>Please wait while saving new publisher...</i></small>');\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: '/management/publisher/async/new-publisher',\n\t\t\t\t\t\tdata: {publisher_name: scope.publisherName, type: 'async'},\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json'/* 'application/x-www-form-urlencoded; charset=UTF-8'*/\n\t\t\t\t\t\t}\n\t\t\t\t\t}).then(function(e){\n\t\t\t\t\t\tif(Object.keys(e.data.error).length > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( ! e.data.error.hasOwnProperty('publisher_name'))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar errorMsg = '';\n\t\t\t\t\t\t\tangular.forEach(e.data.error.publisher_name, function(v, i){\n\t\t\t\t\t\t\t\terrorMsg += '<small class=\"text-danger\">'+ v + '</small>';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\telem.html(errorMsg);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telem.html('<small class=\"text-primary\">New publisher created!</small>');\n\t\t\t\t\t\t$rootScope.$broadcast('reloadPublisher');\n\t\t\t\t\t\t//scope.$apply('selectedPublisherId = '+ e.data.model.id + '; publisherName = \"' + e.data.model.publisher_name + '\";')\n\t\t\t\t\t\tscope.$emit(\"selectedPublisher\", {name: e.data.model.publisher_name, id: e.data.model.id });\n\t\t\t\t\t}, function(x) {\n\t\t\t\t\t\tconsole.log(x);\n\t\t\t\t\t\telem.html('<small class=\"text-danger\">Publisher not save. Unknown error.</small>');\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t}\n\t\t}\n\t})\n\t.directive('publisherNameSearch', function($rootScope){\n\t\treturn {\n\t\t\trestrict: 'C',\n\t\t\tscope: {\n\t\t\t\thideSuggestions: '=hide_publisher_suggestions'\n\t\t\t},\n\t\t\tlink: function(scope, elem, attrs) {\n\t\t\t\telem.on('keydown', function(e) {\n\t\t\t\t\tif(e.keyCode == 27)\n\t\t\t\t\t{\n\t\t\t\t\t\t$rootScope.$broadcast('hidePublishers');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t})\n\t.directive('ngFilterKeywordPublisher', function() {\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tscope: {\n\t\t\t\tpublisherName: '@publisherName',\n\t\t\t\tpublisherId: '@recordId',\n\t\t\t\tngFilterKeywordPublisher: '=',\n\t\t\t\tisHidden: '='\n\t\t\t},\n\t\t\tlink: function(scope, elem, attrs) {\n\t\t\t\telem.on('click', function(e){\n\t\t\t\t\tscope.$emit(\"selectedPublisher\", {name: scope.publisherName, id: scope.publisherId });\n\t\t\t\t\tscope.$apply();\n\t\t\t\t\t//scope.$apply('ngFilterKeywordPublisher = \"'+ scope.publisherName +'\"; ');\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t})\n})();","(function(){\n\t'use strict';\n\tangular\n\t.module('BookManagementApp')\n\t.factory('AuthorsListSuggestFactory', () => {\n\t\treturn AuthorsList(data);\n\t\t})\n\t/*.service('AuthorsListSuggestService', function(){\n\t return {\n\t showList: React.createFactory({\n\t render: function() {\n\t return (React.DOM.div);\n\t }\n\t })\n\t }\n\t })*/\n})()","(function(){\n\t'use strict'\n\tangular\n\t\t.module('BookManagementApp')\n\t\t.factory('ModalBoxFactory', function(){\n\t\t\treturn {\n\t\t\t\tload: function(options) {\n\t\t\t\t\tvar _defaultOpts = {\n\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\tbody: '',\n\t\t\t\t\t\tfooter: [\n\t\t\t\t\t\t\t'<button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button> ',\n\t\t\t\t\t\t\t'<button type=\"button\" class=\"btn btn-primary\">Ok</button>'\n\t\t\t\t\t\t\t].join(\"\")\n\t\t\t\t\t};\n\t\t\t\t\tangular.extend(_defaultOpts, options);\n\t\t\t\t\tvar _modal = angular.element('.modal');\n\t\t\t\t\t_modal.find('.modal-header .modal-title').html(_defaultOpts.title);\n\t\t\t\t\t_modal.find('.modal-body').html(_defaultOpts.body);\n\t\t\t\t\t_modal.find('.modal-footer').html(_defaultOpts.footer);\n\t\t\t\t\treturn _modal;\n\t\t\t\t}\n\t\t\t};\n\t\t})\n})();","","(function() {\n\t'use strict'\n\tangular\n\t\t.module('BookManagementApp')\n\t\t// get the data type of a value\n\t\t.filter('typeOf', function() {\n\t\t\treturn function(value){ \n\t\t\t\treturn (typeof value);\n\t\t\t};\n\t\t})\n})();","var AuthorsList = React.createFactory(React.createClass({\n\tgetInitialState:function() {\n\t\treturn {\n\t\t\tselectedID: -1\n\t\t}\n\t},\n\tonSelectAuthor: function(e) {\n\t\t//this.setState.selectedID = e.currentTarget.dataset.id;\n\t\tReactDOM.findDOMNode(this.refs.id).value = e.currentTarget.dataset.id;\n\t\t$('#book-author').val(e.currentTarget.dataset.author);\n\t\tthis.props.scope.$parent.toggleAuthorsSuggestion(true);\n\t\tthis.props.scope.$parent.$apply()\n\t},\n\tcloseSuggestionBox: function() {\n\t\tthis.props.scope.$parent.toggleAuthorsSuggestion(true);\n\t\tthis.props.scope.$parent.$apply()\n\t},\n\trender: function() {\n\t\tvar keyword = (this.props.keyword ? this.props.keyword : '');\n\t\tvar onSelectAuthor = this.onSelectAuthor;\n\n\t\tvar _data = this.props.list.map(function(o){\n\t\t\tif(keyword !== '') {\n\t\t\t\tif(o.author_name.toLowerCase().match(keyword.toLowerCase())) {\n\t\t\t\t\treturn React.DOM.a({className: 'list-group-item', href: '#','data-id': o.id, 'data-author':o.author_name, 'onClick': onSelectAuthor}, o.author_name);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn React.DOM.a({className: 'list-group-item', href: '#','data-id': o.id,'data-author':o.author_name, 'onClick': onSelectAuthor}, o.author_name);\n\t\t\t}\n\t\t});\n\t\treturn  React.DOM.div({className: 'author-suggest'},\n\t\t\tReact.DOM.div(\n\t\t\t\t{className: 'autosuggest-author-body'},\n\t\t\t\tReact.DOM.div(\n\t\t\t\t\t{className: \"list-group\"},\n\t\t\t\t\t_data, /*(this.state.showSuggestion ? _data : null),*/\n\t\t\t\t\tReact.DOM.input({name: 'author_id', type: 'hidden', ref: 'id', value: this.state.selectedID})\n\t\t\t\t),\n\t\t\t\tReact.DOM.a({className: 'list-group-item close-box-suggestion text-danger', 'onClick': this.closeSuggestionBox }, 'Close')\n\t\t\t)\n\t\t);\n\t}\n}));","var PublishersList = React.createFactory(React.createClass({\n\tgetInitialState:function() {\n\t\treturn {\n\t\t\tselectedID: -1\n\t\t}\n\t},\n\tonSelectPublisher: function(e) {\n\t\t//this.setState.selectedID = e.currentTarget.dataset.id;\n\t\tReactDOM.findDOMNode(this.refs.id).value = e.currentTarget.dataset.id;\n\t\t$('#book-publisher').val(e.currentTarget.dataset.publisher);\n\t\tthis.props.scope.$parent.togglePublisherSuggestion(true);\n\t\tthis.props.scope.$parent.$apply()\n\t},\n\tcloseSuggestionBox: function() {\n\t\tthis.props.scope.$parent.togglePublisherSuggestion(true);\n\t\tthis.props.scope.$parent.$apply()\n\t},\n\trender: function() {\n\t\tvar keyword = (this.props.keyword ? this.props.keyword : '');\n\t\tvar onSelectPublisher = this.onSelectPublisher;\n\n\t\tvar _data = this.props.list.map(function(o){\n\t\t\tif(keyword !== '') {\n\t\t\t\tif(o.name.toLowerCase().match(keyword.toLowerCase())) {\n\t\t\t\t\treturn React.DOM.a({className: 'list-group-item', href: '#','data-id': o.id, 'data-author':o.name, 'onClick': onSelectPublisher}, o.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn React.DOM.a({className: 'list-group-item', href: '#','data-id': o.id,'data-author':o.name, 'onClick': onSelectPublisher}, o.name);\n\t\t\t}\n\t\t});\n\t\treturn  React.DOM.div({className: 'publisher-suggest'},\n\t\tReact.DOM.div(\n\t\t{className: 'autosuggest-publisher-body'},\n\t\tReact.DOM.div(\n\t\t{className: \"list-group\"},\n\t\t_data, /*(this.state.showSuggestion ? _data : null),*/\n\t\tReact.DOM.input({name: 'publisher_id', type: 'hidden', ref: 'id', value: this.state.selectedID})\n\t\t),\n\t\tReact.DOM.a({className: 'list-group-item close-box-suggestion text-danger', 'onClick': this.closeSuggestionBox }, 'Close')\n\t\t)\n\t\t);\n\t}\n}));","(function(){\n\t'use strict';\n\tangular\n\t\t.module('BookManagementApp')\n\t\t.service('AuthorsListSuggestService', function(){\n\t\t\treturn {\n\t\t\t\tshowList: function($data,$keyword, scope, $el) {\n\t\t\t\t\tReactDOM.render(AuthorsList({list: $data, keyword: $keyword, scope: scope }), $el)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n})();","(function(){\n\t'use strict';\n\tangular\n\t.module('BookManagementApp')\n\t.service('PublishersListSuggestService', function(){\n\t\treturn {\n\t\t\tshowList: function($data,$keyword, scope, $el) {\n\t\t\t\tReactDOM.render(PublishersList({list: $data, keyword: $keyword, scope: scope }), $el)\n\t\t\t}\n\t\t}\n\t})\n})();"],"sourceRoot":"/source/"}